pipeline{

    agent any

    stages{
        stage('Build'){
            steps{
                echo 'Buiding...'
            }
        }
        stage('Install Cypress Dependencies'){
            steps{
                bat "npm install"
            }
        }
        stage('RunCypressScript'){
            steps{
                script{
                    if(params.ExecutionType == "Sanity"){

                        bat "echo Sanity test cases running"
                        bat "npx cypress run --spec 'cypress/integration/Sanity/*.js'"
                    } else if(params.ExecutionType == "Functional"){

                        bat "echo Functional test cases running"
                        bat "npx cypress run --spec 'cypress/integration/Functional/*.js'"
                    }
                }
            }
        }
        stage('Deploy'){
            steps{
                echo "Deploying..."
            }
        }
    }
}